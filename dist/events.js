var Events=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){return"[object Array]"==Object.prototype.toString.call(t)}var o=function(){function t(t,e){for(var n=0;e.length>n;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),u=n(1),s=function(t){return t&&t.__esModule?t:{default:t}}(u);t.exports=new(function(){function t(){r(this,t),this.gateway=new s.default,this.hashes=new s.default,this.once=[],this.defaultPriority=0}return o(t,[{key:"register",value:function(t,e){var n=this,r=this.defaultPriority;if(arguments.length>2&&(r=arguments[2]),i(t)){var o=[];return t.each(function(t){o=o.concat(n.register(t,e,r))}),o}var u=(Math.random()+1).toString(36).substring(7);void 0==this.gateway.get(t)&&this.gateway.put(t,new s.default);var a=this.gateway.get(t);return void 0==a.get(r)&&a.put(r,[]),a.get(r).push(u),this.hashes.put(u,e),u}},{key:"register_once",value:function(t,e){this.once.push(this.register(t,e,arguments[2]||this.defaultPriority))}},{key:"unregister",value:function(t,e){if(void 0!=this.gateway.get(t))for(var n=this.gateway.get(t),r=n.keys(),i=0;r.length>i;i++)for(var o=n.get(r[i]),u=0;o.length>u;u++)if(o[u]==e)return o.splice(u,1),this.hashes.remove(e),!0;return!1}},{key:"fire",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0!=this.gateway.get(t)){var n=this.gateway.get(t),r=n.keys();r.sort(function(t,e){return e-t});for(var i=!1,o=0;r.length>o;o++){for(var u=n.get(r[o]),s=0;u.length>s;s++){var a=u[s],f=this.hashes.get(a)(e);if(this.once.indexOf(a)>-1&&this.unregister(t,a),!f){i=!0;break}}if(i)break}}}},{key:"showEvents",value:function(){this.gateway.each(function(t){var e=t.key;t.value.each(function(t){var n=t.value;n.length>0&&(console.log(e+"("+n.length+")"),n.each(function(t){console.log("#"+t)}),console.log(""))})})}}]),t}())},function(t,e){t.exports=function(){function t(e){var n;if("string"==typeof e)return e;if(typeof e.hashCode==l)return n=e.hashCode(),"string"==typeof n?n:t(n);if(typeof e.toString==l)return""+e;try{return e+""}catch(t){return Object.prototype.toString.call(e)}}function e(t,e){return t.equals(e)}function n(t,e){return typeof e.equals==l?e.equals(t):t===e}function r(t){return function(e){if(null===e)throw Error("null is not a valid "+t);if(void 0===e)throw Error(t+" must not be undefined")}}function i(t,e,n,r){this[0]=t,this.entries=[],this.addEntry(e,n),null!==r&&(this.getEqualityFunction=function(){return r})}function o(t){return function(e){for(var n,r=this.entries.length,i=this.getEqualityFunction(e);r--;)if(n=this.entries[r],i(e,n[0]))switch(t){case y:return!0;case v:return n;case p:return[r,n[1]]}return!1}}function u(t){return function(e){for(var n=e.length,r=0,i=this.entries.length;i>r;++r)e[n+r]=this.entries[r][t]}}function s(t,e){for(var n,r=t.length;r--;)if(n=t[r],e===n[0])return r;return null}function a(t,e){var n=t[e];return n&&n instanceof i?n:null}function f(e,n){var r=this,o=[],u={},y=typeof e==l?e:t,v=typeof n==l?n:null;this.put=function(t,e){h(t),g(e);var n,r,s=y(t),f=null;return n=a(u,s),n?(r=n.getEntryForKey(t),r?(f=r[1],r[1]=e):n.addEntry(t,e)):(n=new i(s,t,e,v),o[o.length]=n,u[s]=n),f},this.get=function(t){h(t);var e=y(t),n=a(u,e);if(n){var r=n.getEntryForKey(t);if(r)return r[1]}return null},this.containsKey=function(t){h(t);var e=y(t),n=a(u,e);return!!n&&n.containsKey(t)},this.containsValue=function(t){g(t);for(var e=o.length;e--;)if(o[e].containsValue(t))return!0;return!1},this.clear=function(){o.length=0,u={}},this.isEmpty=function(){return!o.length};var p=function(t){return function(){for(var e=[],n=o.length;n--;)o[n][t](e);return e}};this.keys=p("keys"),this.values=p("values"),this.entries=p("getEntries"),this.remove=function(t){h(t);var e,n=y(t),r=null,i=a(u,n);return i&&null!==(r=i.removeEntryForKey(t))&&(i.entries.length||(e=s(o,n),c(o,e),delete u[n])),r},this.size=function(){for(var t=0,e=o.length;e--;)t+=o[e].entries.length;return t},this.each=function(t){for(var e,n=r.entries(),i=n.length;i--;)e=n[i],t(e[0],e[1])},this.putAll=function(t,e){for(var n,i,o,u,s=t.entries(),a=s.length,f=typeof e==l;a--;)n=s[a],i=n[0],o=n[1],f&&(u=r.get(i))&&(o=e(i,u,o)),r.put(i,o)},this.clone=function(){var t=new f(e,n);return t.putAll(r),t}}var l="function",c=typeof Array.prototype.splice==l?function(t,e){t.splice(e,1)}:function(t,e){var n,r,i;if(e===t.length-1)t.length=e;else for(n=t.slice(e+1),t.length=e,r=0,i=n.length;i>r;++r)t[e+r]=n[r]},h=r("key"),g=r("value"),y=0,v=1,p=2;return i.prototype={getEqualityFunction:function(t){return typeof t.equals==l?e:n},getEntryForKey:o(v),getEntryAndIndexForKey:o(p),removeEntryForKey:function(t){var e=this.getEntryAndIndexForKey(t);return e?(c(this.entries,e[0]),e[1]):null},addEntry:function(t,e){this.entries[this.entries.length]=[t,e]},keys:u(0),values:u(1),getEntries:function(t){for(var e=t.length,n=0,r=this.entries.length;r>n;++n)t[e+n]=this.entries[n].slice(0)},containsKey:o(y),containsValue:function(t){for(var e=this.entries.length;e--;)if(t===this.entries[e][1])return!0;return!1}},f}()}]);
//# sourceMappingURL=events.js.map